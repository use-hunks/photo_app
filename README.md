# photo_app
**FlutterとFirebaseを使ったクラウド画像管理アプリ**

photo_app は、Flutter、Firebase、Riverpodを使用して開発された写真共有アプリです。ユーザーは自身のデバイスから写真をアップロードし、Firebase StorageとFirestoreに保存される写真を閲覧・お気に入り登録・削除できます。また、Firebase Authenticationを用いて、ログインやログアウト機能も提供しています。

## UIの様子
![UI](https://github.com/user-attachments/assets/38d5b6d8-cddd-46e6-86ec-02ce48ae4e74)

## 開発背景
このアプリは『実践FlutterとFirebaseを使ったアプリ開発（技術の泉Series）』を参考にして作成しました。自分の技術力を試すために、サクッと作れるプロジェクトを探しており、以前少し触ったことのあるFirebaseを復習しようと思ったのがきっかけです。

当初、1〜2日で完成させる予定でしたが、この本が2021年に書かれており、使用されているバージョンが古かったため、いくつかの部分で修正が必要でした。その結果、開発期間は1週間ほどかかりました。

本の内容に加え、以下のようなオリジナリティを加えています。

- サインインしているユーザーのメールアドレスを表示
- 不具合があったお気に入り画像のスクロールを修正
- 画像削除やサインアウト時にポップアップを表示
- 画像表示のレイアウト調整

これらの改良により、より使いやすく実用的なアプリになったと感じています。


## 主な機能
- **ユーザー認証**:  
  Firebase Authenticationを使用して、ユーザーはサインアップ、ログイン、ログアウトが可能。
  
- **写真アップロード**:  
  ギャラリーから写真を選択し、Firebase Storageにアップロード。

- **写真の表示**:  
  アップロードされた写真をグリッド形式で表示し、スクロール可能。

- **お気に入り機能**:  
  写真にお気に入りを付け、Firestoreに保存。

- **写真の削除**:  
  アップロードされた写真を削除する機能も提供。

- **レスポンシブUI**:  
  異なる画面サイズでも適切に表示されます。

## 使用技術
- **Flutter 3.19.6**:  
  クロスプラットフォームモバイルアプリケーションの開発に使用。

- **Dart 3.3.4**:  
  アプリのロジックとUIに使用。

- **Firebase**:  
  バックエンドサービス（認証、ストレージ、データベース）。

- **Riverpod**:  
  状態管理に使用し、ユーザー認証や写真リスト、お気に入り機能を効率的に処理。


## 課題と解決策
- **Riverpodによる状態管理**:  
  開発当初、Riverpodのプロバイダの使い方が理解できず、状態管理に苦戦した。解決策として、公式ドキュメントや映像教育コンテンツを参照し、プロバイダの基本的概念から再学習を始めた。結果として、本プロジェクトに適用できるレベルに達した。
- **長いメールアドレスの処理**:  
  メールアドレスがUIに干渉しないように、`Expanded`,`padding`, `TextOverflow.ellipsis`を組み合わせて、UIレイアウトを壊さずにメールアドレスを適切に表示。

- **非同期処理でのBuildContext使用**:  
  `mounted`プロパティを使って、Firebaseのサインアウト処理後にウィジェットが破棄されていないか確認し、エラーを防止。

- **画像読み込みエラーの処理**:  
  Flutterの`Image.network()`の`errorBuilder`を利用して、ネットワークの問題で画像が読み込めない場合でも、適切にエラーメッセージを表示。


## 今後の改善点
- **ページネーション**:  
  大量の写真がある場合でも、スムーズにロードできるようページネーションを追加。

- **ピンチアウト・ピンチイン**:  
  写真を一覧表示するときに、ピンチアウト、ピンチイン操作を導入することで、一覧性を向上させ、ユーザーがより快適に写真を閲覧できるようにする。

- **他の写真アプリと差別化できる新機能の追加**:  
  現在のままでは実用性が低いため、このアプリ特有の機能を付け加えたい。